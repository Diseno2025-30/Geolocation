{% extends "_base.html" %} {% block title %}Real Time{% endblock %} {% block
page_css %}
<link rel="stylesheet" href="{{ get_static_path('css/realtime.css') }}" />
{% endblock %} {% block hidden_data %}
<div style="display: none">
  <span id="status">OFFLINE</span>
  <span id="lastUpdate">Never</span>
  <span id="puntosTrayectoria">0</span>
</div>
{% endblock %} {% block modal_info_fields %}
<div class="modal-field">
  <span class="modal-label">Modo:</span>
  <span class="modal-value mode-value">REAL-TIME</span>
</div>
<div class="modal-field">
  <span class="modal-label">Status:</span>
  <span id="modalStatus" class="modal-value">OFFLINE</span>
</div>
<div class="modal-field">
  <span class="modal-label">Ãšltima actualizaciÃ³n:</span>
  <span id="modalLastUpdate" class="modal-value">Never</span>
</div>
<div class="modal-field">
  <span class="modal-label">Puntos GPS en trayectoria:</span>
  <span id="modalPuntos" class="modal-value">0</span>
</div>
{% endblock %} {% block page_name %}Real-Time{% endblock %} {% block
main_content %}
<div class="controls">
  <button class="btn" onclick="limpiarTrayectoria()">
    ğŸ—‘ï¸ Limpiar Trayectoria
  </button>
  <button class="btn" onclick="toggleTrayectoria()">
    <span id="toggleText">ğŸ‘ï¸ Ocultar Trayectoria</span>
  </button>
  <button
    class="btn"
    onclick="regenerarRuta()"
    title="Regenerar toda la ruta siguiendo las calles"
  >
    ğŸ”„ Regenerar Ruta
  </button>
</div>

<h2>UbicaciÃ³n en Tiempo Real</h2>
<div id="map"></div>

<!-- Dynamic device cards container instead of static single position display -->
<div class="devices-section">
  <div class="devices-header">
    <h2>Dispositivos Activos</h2>
    <span id="deviceCount" class="device-count">0 dispositivos</span>
  </div>
  <div id="devicesContainer" class="devices-container">
    <!-- Device cards will be dynamically inserted here -->
    <div class="no-devices">
      <div class="no-devices-icon">ğŸ“¡</div>
      <p>Esperando datos de dispositivos...</p>
    </div>
  </div>
</div>
{% endblock %} {% block page_js %}
<script type="module" src="{{ get_static_path('js/realtime.js') }}"></script>
{% endblock %}
