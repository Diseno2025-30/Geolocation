<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ name }} - Real Time</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/realtime.css') }}">
</head>
<body>
    <div class="container">
        <h1>Rastreador {{ name }}</h1>

        <!-- Navigation between views -->
        <div class="view-navigation">
            <strong>Navegación:</strong>
            <button class="view-nav-tab current">Real-Time</button>
            <a id="historicalLink" class="view-nav-tab">Historical View</a>
        </div>

        <!-- Navigation between trackers -->
        <div id="navigationTabs" class="navigation-tabs">
            <strong>Otros rastreadores disponibles:</strong>
        </div>

        <!-- Status section -->
        <div class="status">
            <div class="field">
                <span class="label">Status:</span>
                <span id="status" class="value online">ONLINE</span>
            </div>
            <div class="field">
                <span class="label">Last Update:</span>
                <span id="lastUpdate" class="value">Never</span>
            </div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <button class="btn" onclick="limpiarTrayectoria()">Limpiar Trayectoria</button>
            <button class="btn" onclick="toggleTrayectoria()">
                <span id="toggleText">Ocultar Trayectoria</span>
            </button>
            <div class="field">
                <span class="label">Puntos:</span>
                <span id="puntosTrayectoria" class="value">0</span>
            </div>
        </div>

        <!-- Map -->
        <h2>Ubicación en Tiempo Real</h2>
        <div id="map"></div>

        <!-- Coordinates display -->
        <div class="coordinates">
            <h2>Posición Actual</h2>
            <div class="field">
                <span class="label">Latitude:</span>
                <span id="latitude" class="value">---.------</span>
            </div>
            <div class="field">
                <span class="label">Longitude:</span>
                <span id="longitude" class="value">---.------</span>
            </div>
            <div class="field">
                <span class="label">Device ID:</span>
                <span id="deviceId" class="value">---</span>
            </div>
            <div class="field">
                <span class="label">Timestamp:</span>
                <span id="timestamp" class="value">---</span>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/navigation.js') }}"></script>
    <script src="{{ url_for('static', filename='js/realtime.js') }}"></script>
</body>
</html>